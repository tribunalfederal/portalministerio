rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    
    // REGRAS SIMPLIFICADAS PARA O SISTEMA BRASILÂNDIA
    
    // === USUÁRIOS ===
    match /usuarios/{userId} {
      // Permitir leitura/escrita para usuários autenticados
      allow read, write: if request.auth != null;
    }
    
    // === COLEÇÕES ADMINISTRATIVAS ===
    match /usuarios_cadastrados/{document} {
      allow read, write: if request.auth != null;
    }
    
    match /registros_oab/{document} {
      allow read, write: if request.auth != null;
    }
    
    match /usuarios_online/{document} {
      allow read, write: if request.auth != null;
    }
    
    // === LOGS ===
    match /logs/{document} {
      allow read, write: if request.auth != null;
    }
    
    // === DOCUMENTOS ===
    match /documentos/{document} {
      allow read, write: if request.auth != null;
    }
    
    // === PROCESSOS ===
    match /processos/{document} {
      allow read, write: if request.auth != null;
    }
    
    // === NOTIFICAÇÕES ===
    match /notificacoes/{document} {
      allow read, write: if request.auth != null;
    }
    
    // === CONFIGURAÇÕES ===
    match /configuracoes/{document} {
      allow read, write: if request.auth != null;
    }
    
    // === ESTATÍSTICAS ===
    match /estatisticas/{document} {
      allow read, write: if request.auth != null;
    }
    
    // === REGRA GERAL PARA OUTRAS COLEÇÕES ===
    match /{document=**} {
      allow read, write: if request.auth != null;
    }
  }
}
