<!DOCTYPE html>
<html>
<head>
    <title>Configurador BRASIL√ÇNDIA</title>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
    <style>
        body { font-family: Arial; margin: 50px; background: #1a1a1a; color: #fff; }
        button { background: #4CAF50; color: white; padding: 15px 30px; border: none; border-radius: 5px; font-size: 18px; cursor: pointer; margin: 10px; }
        button:hover { background: #45a049; }
        .log { background: #333; padding: 20px; border-radius: 5px; margin: 20px 0; max-height: 400px; overflow-y: auto; }
        .success { color: #4CAF50; }
        .error { color: #ff6b6b; }
    </style>
</head>
<body>
    <h1>üî• Configurador BRASIL√ÇNDIA v3.0</h1>
    <p>Clique no bot√£o para configurar automaticamente o Firebase:</p>
    
    <button onclick="configurarSistema()">üöÄ CONFIGURAR SISTEMA</button>
    <button onclick="testarLogin()">üîê TESTAR LOGIN</button>
    
    <div id="log" class="log">
        <div>üìã Aguardando a√ß√£o...</div>
    </div>

    <script>
        // Configura√ß√£o Firebase
        const firebaseConfig = {
            apiKey: "AIzaSyD7zTi6HQlDmkA6guBTXGw87njm5fu4ImA",
            authDomain: "sistema-juridico-brasila-7c777.firebaseapp.com",
            projectId: "sistema-juridico-brasila-7c777",
            storageBucket: "sistema-juridico-brasila-7c777.firebasestorage.app",
            messagingSenderId: "566082705177",
            appId: "1:566082705177:web:9b1a7050e3b8c95c789788"
        };

        firebase.initializeApp(firebaseConfig);
        const db = firebase.firestore();

        function log(message, type = 'info') {
            const logDiv = document.getElementById('log');
            const className = type === 'success' ? 'success' : type === 'error' ? 'error' : '';
            logDiv.innerHTML += `<div class="${className}">${new Date().toLocaleTimeString()} - ${message}</div>`;
            logDiv.scrollTop = logDiv.scrollHeight;
        }

        async function configurarSistema() {
            log('üöÄ Iniciando configura√ß√£o do sistema BRASIL√ÇNDIA...');
            
            try {
                // Configurar Alexandre
                await db.collection('usuarios_cadastrados').doc('alexandre-moraes').set({
                    nome: "Alexandre de Moraes",
                    email: "alexandre.moraes@stf.brasilandia.gov.br",
                    cargo: "1¬∫ Juiz Federal",
                    nivel: 1,
                    salario: 9500,
                    telefone: "(11) 99999-0001",
                    oab: "STF001BR",
                    senha: "STF2025@Seguro",
                    ativo: true,
                    dataRegistro: "2025-08-07",
                    permissoes: {
                        admin: true,
                        criarProcessos: true,
                        gerenciarUsuarios: true,
                        acessarTodosPortais: true
                    }
                });
                log('‚úÖ Alexandre de Moraes configurado!', 'success');

                // Configura√ß√µes do sistema
                await db.collection('configuracoes').doc('sistema').set({
                    nomeServidor: "BRASIL√ÇNDIA RP",
                    versao: "3.0",
                    manterSincronizacao: true,
                    modoDevelopment: false,
                    hierarquiaAtiva: true,
                    totalCargos: 17,
                    ultimaAtualizacao: "2025-08-07"
                });
                log('‚úÖ Configura√ß√µes do sistema criadas!', 'success');

                // Registro OAB
                await db.collection('registros_oab').doc('STF001BR').set({
                    numero: "STF001BR",
                    nome: "Alexandre de Moraes",
                    cargo: "1¬∫ Juiz Federal",
                    status: "ativo",
                    dataRegistro: "2025-08-07",
                    email: "alexandre.moraes@stf.brasilandia.gov.br"
                });
                log('‚úÖ Registro OAB STF001BR criado!', 'success');

                // Log inicial
                await db.collection('logs').add({
                    descricao: "Sistema BRASIL√ÇNDIA v3.0 inicializado",
                    usuario: "Sistema",
                    cargo: "Sistema",
                    tipo: "sistema",
                    timestamp: Date.now(),
                    data_formatada: new Date().toLocaleString('pt-BR')
                });
                log('‚úÖ Log inicial criado!', 'success');

                log('üéâ SISTEMA BRASIL√ÇNDIA CONFIGURADO COM SUCESSO!', 'success');
                log('üîê Agora voc√™ pode fazer login com:', 'success');
                log('üìß Email: alexandre.moraes@stf.brasilandia.gov.br', 'success');
                log('üîë Senha: STF2025@Seguro', 'success');

            } catch (error) {
                log(`‚ùå Erro: ${error.message}`, 'error');
            }
        }

        function testarLogin() {
            log('üîê Redirecionando para o sistema...');
            window.open('index.html', '_blank');
        }
    </script>
</body>
</html>
